1+1
# automatically create a bib database for R packages
knitr::write_bib(c(
.packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
install_hugo()
library(tinytex)
tlmgr_update()
fmtutil-user --all
citation()
install.packages("profvis")
install.packages("profvis")
install.packages("profvis")
install.packages("profvis")
install.packages("profvis")
install.packages("profvis")
library(profvis)
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
library(profvis)
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
library(profvis)
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
profvis::profvis({
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
})
par(mfrow=c(1,1))
library(profvis)
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
par(mfrow=c(1,2))
library(profvis)
profvis({
data(diamonds, package = "ggplot2")
plot(price ~ carat, data = diamonds)
m <- lm(price ~ carat, data = diamonds)
abline(m, col = "red")
})
rm(list = ls())
library(tidyverse)
library(labelled)
library(gtsummary)
theme_gtsummary_mean_sd()
library(sf)
library(ggthemes)
source("./fonctions/fonction.R")
data %>%
select(DATENAISSANCE,DINS) %>%
arrange(DATENAISSANCE) %>%
mutate(agej=DINS-DATENAISSANCE) %>%
filter(agej >=0 & agej <= 365) %>%
mutate(agej_ =
case_when
(
agej >= 0 & agej < 7 ~ "NNP",
agej >= 7 & agej < 28 ~ "NNT",
agej >= 28 & agej < 365 ~ "PNN"
)) %>%
group_by(agej_) %>%
summarise(nbr=n()) %>% view()
tbl <- data %>%
select(DATENAISSANCE,DINS) %>%
arrange(DATENAISSANCE) %>%
mutate(agej=DINS-DATENAISSANCE) %>%
filter(agej >=0 & agej <= 365) %>%
mutate(agej_ =
case_when
(
agej >= 0 & agej < 7 ~ "NNP",
agej >= 7 & agej < 28 ~ "NNT",
agej >= 28 & agej < 365 ~ "PNN"
)) %>%
group_by(agej_) %>%
summarise(nbr=n()) #%>% view()
tbl
tbl
#glimpse(data)
data %>%
select(structure,Days,SEX) %>% #view()
mutate(structure = fct_infreq(structure)) %>%
filter(Days >= 0 & Days <= 1825) %>%
group_by(structure) %>%
summarise(tot=n()) %>%
arrange(tot)
nss <- 150000
####################################################
dpn <- data %>%
select(Days,SEX) %>%
filter(Days >= 0 & Days <= 1825)
ca <- cut(
dpn$Days,
breaks = c(0,7,28,365,1825),
labels = c("NNP","NNT","PNN","1-5"))
dpn <- cbind(dpn,ca)
dpn$ca <- dpn$ca %>% replace_na('NNP')
xtab <- table(dpn$ca,dpn$SEX)
####################################################
xtab <- cbind(xtab,rep(0, 4))           #nbr of row
colnames(xtab) <- c("F","M","T")
for (i in 1:nrow(xtab)) {xtab[i,3] <- sum(xtab[i,])}
####################################################
xtab <- rbind(xtab,rep(0, 3))             #nbr of col
row.names(xtab) <- c("NNP","NNT","PNN","1-5","T")
for (i in 1:ncol(xtab)) {xtab[5,i] <- sum(xtab[,i])}
####################################################
xtab
nn <- xtab[1,3]+xtab[2,3]
nnp <- xtab[1,3]
nnt <- xtab[2,3]
tx <- function(dec,nss) {
tx <- dec*1000/nss
res <- round(tx,2)
return(res)
}
#tx(nn,nss)
xtab_fr <-  round(xtab/xtab[5,3],4)*100
xtab_fr
df <- data %>%
select(Days) %>%
filter(Days >= 0 & Days <= 365 ) %>%
mutate(agej_ =
case_when
(
Days >= 0 & Days < 7 ~ "NNP",
Days >= 7 & Days < 28 ~ "NNT",
Days >= 28 & Days < 365 ~ "PNN"
)) %>%
group_by(agej_) %>%
summarise(nbr=n()) %>% view()
#glimpse(df)
kable(xtab)
xtab
kable(xtab)
library(knitr)
xtab
kable(xtab)
library(knitr)
#xtab
kable(xtab)
#xtab
kable(xtab)
